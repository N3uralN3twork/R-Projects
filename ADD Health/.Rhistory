DropHolder1 == 6 & DropHolder2 == 3 ~ 1,
DropHolder1 == 6 & DropHolder2 == 4 ~ 1,
DropHolder1 == 6 & DropHolder2 == 5 ~ 1,
DropHolder1 == 6 & DropHolder2 == 6 ~ 0,
DropHolder1 == 6 & DropHolder2 == 7 ~ 1,
DropHolder1 == 6 & DropHolder2 == 97 ~ 0,
DropHolder1 == 6 & is.na(DropHolder2) ~ 0,
is.na(DropHolder1) & DropHolder2 == 1 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 2 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 3 ~ 1,
is.na(DropHolder1) & DropHolder2 == 4 ~ 1,
is.na(DropHolder1) & DropHolder2 == 5 ~ 1,
is.na(DropHolder1) & DropHolder2 == 6 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 7 ~ 1,
is.na(DropHolder1) & DropHolder2 == 97 ~ NaN,
is.na(DropHolder1) & is.na(DropHolder2) ~ NaN))
waves <- waves %>%
mutate(DropHolder1 = replace(H1GI21, H1GI21 %in% c(6, 96, 98), NA)) %>%
mutate(DropHolder2 = replace(H2GI10, H2GI10 %in% c(8), NA)) %>%
mutate(Dropout = case_when(
DropHolder1 == 1 & DropHolder2 == 1 ~ 0,
DropHolder1 == 1 & DropHolder2 == 2 ~ 0,
DropHolder1 == 1 & DropHolder2 == 3 ~ 1,
DropHolder1 == 1 & DropHolder2 == 4 ~ 1,
DropHolder1 == 1 & DropHolder2 == 5 ~ 1,
DropHolder1 == 1 & DropHolder2 == 6 ~ 0,
DropHolder1 == 1 & DropHolder2 == 7 ~ 1,
DropHolder1 == 1 & DropHolder2 == 97 ~ 0,
DropHolder1 == 2 & is.na(DropHolder2) ~ 0,
DropHolder1 == 2 & DropHolder2 == 1 ~ 1,
DropHolder1 == 2 & DropHolder2 == 2 ~ 1,
DropHolder1 == 2 & DropHolder2 == 3 ~ 1,
DropHolder1 == 2 & DropHolder2 == 4 ~ 1,
DropHolder1 == 2 & DropHolder2 == 5 ~ 1,
DropHolder1 == 2 & DropHolder2 == 6 ~ 1,
DropHolder1 == 2 & DropHolder2 == 7 ~ 1,
DropHolder1 == 2 & DropHolder2 == 97 ~ 1,
DropHolder1 == 2 & is.na(DropHolder2) ~ 1,
DropHolder1 == 3 & DropHolder2 == 1 ~ 1,
DropHolder1 == 3 & DropHolder2 == 2 ~ 1,
DropHolder1 == 3 & DropHolder2 == 3 ~ 1,
DropHolder1 == 3 & DropHolder2 == 4 ~ 1,
DropHolder1 == 3 & DropHolder2 == 5 ~ 1,
DropHolder1 == 3 & DropHolder2 == 6 ~ 1,
DropHolder1 == 3 & DropHolder2 == 7 ~ 1,
DropHolder1 == 3 & DropHolder2 == 97 ~ 1,
DropHolder1 == 3 & is.na(DropHolder2) ~ 1,
DropHolder1 == 4 & DropHolder2 == 1 ~ 0,
DropHolder1 == 4 & DropHolder2 == 2 ~ 0,
DropHolder1 == 4 & DropHolder2 == 3 ~ 0,
DropHolder1 == 4 & DropHolder2 == 4 ~ 0,
DropHolder1 == 4 & DropHolder2 == 5 ~ 0,
DropHolder1 == 4 & DropHolder2 == 6 ~ 0,
DropHolder1 == 4 & DropHolder2 == 7 ~ 0,
DropHolder1 == 4 & DropHolder2 == 97 ~ 0,
DropHolder1 == 4 & is.na(DropHolder2) ~ 0,
DropHolder1 == 5 & DropHolder2 == 1 ~ 1,
DropHolder1 == 5 & DropHolder2 == 2 ~ 1,
DropHolder1 == 5 & DropHolder2 == 3 ~ 1,
DropHolder1 == 5 & DropHolder2 == 4 ~ 1,
DropHolder1 == 5 & DropHolder2 == 5 ~ 1,
DropHolder1 == 5 & DropHolder2 == 6 ~ 1,
DropHolder1 == 5 & DropHolder2 == 7 ~ 1,
DropHolder1 == 5 & DropHolder2 == 97 ~ 1,
DropHolder1 == 5 & is.na(DropHolder2) ~ 1,
DropHolder1 == 6 & DropHolder2 == 1 ~ 0,
DropHolder1 == 6 & DropHolder2 == 2 ~ 0,
DropHolder1 == 6 & DropHolder2 == 3 ~ 1,
DropHolder1 == 6 & DropHolder2 == 4 ~ 1,
DropHolder1 == 6 & DropHolder2 == 5 ~ 1,
DropHolder1 == 6 & DropHolder2 == 6 ~ 0,
DropHolder1 == 6 & DropHolder2 == 7 ~ 1,
DropHolder1 == 6 & DropHolder2 == 97 ~ 0,
DropHolder1 == 6 & is.na(DropHolder2) ~ 0,
is.na(DropHolder1) & DropHolder2 == 1 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 2 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 3 ~ 1,
is.na(DropHolder1) & DropHolder2 == 4 ~ 1,
is.na(DropHolder1) & DropHolder2 == 5 ~ 1,
is.na(DropHolder1) & DropHolder2 == 6 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 7 ~ 1,
is.na(DropHolder1) & DropHolder2 == 97 ~ NaN,
is.na(DropHolder1) & is.na(DropHolder2) ~ NaN,
TRUE ~ 0))
table(waves$Dropout)
waves <- waves %>%
mutate(DropHolder1 = replace(H1GI21, H1GI21 %in% c(6, 96, 98), NA)) %>%
mutate(DropHolder2 = replace(H2GI10, H2GI10 %in% c(8), NA)) %>%
mutate(Dropout = case_when(
DropHolder1 == 1 & DropHolder2 == 1 ~ 0,
DropHolder1 == 1 & DropHolder2 == 2 ~ 0,
DropHolder1 == 1 & DropHolder2 == 3 ~ 1,
DropHolder1 == 1 & DropHolder2 == 4 ~ 1,
DropHolder1 == 1 & DropHolder2 == 5 ~ 1,
DropHolder1 == 1 & DropHolder2 == 6 ~ 0,
DropHolder1 == 1 & DropHolder2 == 7 ~ 1,
DropHolder1 == 1 & DropHolder2 == 97 ~ 0,
DropHolder1 == 2 & is.na(DropHolder2) ~ 0,
DropHolder1 == 2 ~ 1,
DropHolder1 == 3 ~ 1,
DropHolder1 == 4 ~ 0,
DropHolder1 == 5 ~ 1,
DropHolder1 == 6 & DropHolder2 == 1 ~ 0,
DropHolder1 == 6 & DropHolder2 == 2 ~ 0,
DropHolder1 == 6 & DropHolder2 == 3 ~ 1,
DropHolder1 == 6 & DropHolder2 == 4 ~ 1,
DropHolder1 == 6 & DropHolder2 == 5 ~ 1,
DropHolder1 == 6 & DropHolder2 == 6 ~ 0,
DropHolder1 == 6 & DropHolder2 == 7 ~ 1,
DropHolder1 == 6 & DropHolder2 == 97 ~ 0,
DropHolder1 == 6 & is.na(DropHolder2) ~ 0,
is.na(DropHolder1) & DropHolder2 == 1 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 2 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 3 ~ 1,
is.na(DropHolder1) & DropHolder2 == 4 ~ 1,
is.na(DropHolder1) & DropHolder2 == 5 ~ 1,
is.na(DropHolder1) & DropHolder2 == 6 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 7 ~ 1,
is.na(DropHolder1) & DropHolder2 == 97 ~ NaN,
is.na(DropHolder1) & is.na(DropHolder2) ~ NaN,
TRUE ~ 0))
table(waves$Dropout)
table(waves$DropHolder1, waves$DropHolder2)
table(waves$DropHolder1)
waves <- waves %>%
mutate(DropHolder1 = replace(H1GI21, H1GI21 %in% c(6, 96, 98), NA)) %>%
mutate(DropHolder2 = replace(H2GI10, H2GI10 %in% c(8), NA)) %>%
mutate(Dropout = case_when(
DropHolder1 == 1 & DropHolder2 == 1 ~ 0,
DropHolder1 == 1 & DropHolder2 == 2 ~ 0,
DropHolder1 == 1 & DropHolder2 == 3 ~ 1,
DropHolder1 == 1 & DropHolder2 == 4 ~ 1,
DropHolder1 == 1 & DropHolder2 == 5 ~ 1,
DropHolder1 == 1 & DropHolder2 == 6 ~ 0,
DropHolder1 == 1 & DropHolder2 == 7 ~ 1,
DropHolder1 == 1 & DropHolder2 == 97 ~ 0,
DropHolder1 == 2 & is.na(DropHolder2) ~ 0,
DropHolder1 == 2 ~ 1,
DropHolder1 == 3 ~ 1,
DropHolder1 == 4 ~ 0,
DropHolder1 == 5 ~ 1,
DropHolder1 == 97 & DropHolder2 == 1 ~ 0,
DropHolder1 == 97 & DropHolder2 == 2 ~ 0,
DropHolder1 == 97 & DropHolder2 == 3 ~ 1,
DropHolder1 == 97 & DropHolder2 == 4 ~ 1,
DropHolder1 == 97 & DropHolder2 == 5 ~ 1,
DropHolder1 == 97 & DropHolder2 == 6 ~ 0,
DropHolder1 == 97 & DropHolder2 == 7 ~ 1,
DropHolder1 == 97 & DropHolder2 == 97 ~ 0,
DropHolder1 == 97 & is.na(DropHolder2) ~ 0,
is.na(DropHolder1) & DropHolder2 == 1 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 2 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 3 ~ 1,
is.na(DropHolder1) & DropHolder2 == 4 ~ 1,
is.na(DropHolder1) & DropHolder2 == 5 ~ 1,
is.na(DropHolder1) & DropHolder2 == 6 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 7 ~ 1,
is.na(DropHolder1) & DropHolder2 == 97 ~ NaN,
is.na(DropHolder1) & is.na(DropHolder2) ~ NaN,
TRUE ~ 0))
table(waves$Dropout)
table(waves$DropHolder1, waves$DropHolder2)
waves <- waves %>%
mutate(DropHolder1 = replace(H1GI21, H1GI21 %in% c(6, 96, 98), NA)) %>%
mutate(DropHolder2 = replace(H2GI10, H2GI10 %in% c(8), NA)) %>%
mutate(Dropout = case_when(
DropHolder1 == 1 & DropHolder2 == 1 ~ 0,
DropHolder1 == 1 & DropHolder2 == 2 ~ 0,
DropHolder1 == 1 & DropHolder2 == 3 ~ 1,
DropHolder1 == 1 & DropHolder2 == 4 ~ 1,
DropHolder1 == 1 & DropHolder2 == 5 ~ 1,
DropHolder1 == 1 & DropHolder2 == 6 ~ 0,
DropHolder1 == 1 & DropHolder2 == 7 ~ 1,
DropHolder1 == 1 & DropHolder2 == 97 ~ 0,
DropHolder1 == 2 & is.na(DropHolder2) ~ 0,
DropHolder1 == 2 ~ 1,
DropHolder1 == 3 ~ 1,
DropHolder1 == 4 ~ 0,
DropHolder1 == 5 ~ 1,
DropHolder1 == 97 & DropHolder2 == 1 ~ 0,
DropHolder1 == 97 & DropHolder2 == 2 ~ 0,
DropHolder1 == 97 & DropHolder2 == 3 ~ 1,
DropHolder1 == 97 & DropHolder2 == 4 ~ 1,
DropHolder1 == 97 & DropHolder2 == 5 ~ 1,
DropHolder1 == 97 & DropHolder2 == 6 ~ 0,
DropHolder1 == 97 & DropHolder2 == 7 ~ 1,
DropHolder1 == 97 & DropHolder2 == 97 ~ 0,
DropHolder1 == 97 & is.na(DropHolder2) ~ 0,
is.na(DropHolder1) & DropHolder2 == 1 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 2 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 3 ~ 1,
is.na(DropHolder1) & DropHolder2 == 4 ~ 1,
is.na(DropHolder1) & DropHolder2 == 5 ~ 1,
is.na(DropHolder1) & DropHolder2 == 6 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 7 ~ 1,
is.na(DropHolder1) & DropHolder2 == 97 ~ NaN,
is.na(DropHolder1) & is.na(DropHolder2) ~ NaN))
table(waves$Dropout)
waves <- waves %>%
mutate(DropHolder1 = replace(H1GI21, H1GI21 %in% c(6, 96, 98), NA)) %>%
mutate(DropHolder2 = replace(H2GI10, H2GI10 %in% c(8), NA)) %>%
mutate(Dropout = case_when(
DropHolder1 == 1 & DropHolder2 == 1 ~ 0,
DropHolder1 == 1 & DropHolder2 == 2 ~ 0,
DropHolder1 == 1 & DropHolder2 == 3 ~ 1,
DropHolder1 == 1 & DropHolder2 == 4 ~ 1,
DropHolder1 == 1 & DropHolder2 == 5 ~ 1,
DropHolder1 == 1 & DropHolder2 == 6 ~ 0,
DropHolder1 == 1 & DropHolder2 == 7 ~ 1,
DropHolder1 == 1 & DropHolder2 == 97 ~ 0,
DropHolder1 == 2 & is.na(DropHolder2) ~ 0,
DropHolder1 == 2 ~ 1,
DropHolder1 == 3 ~ 1,
DropHolder1 == 4 ~ 0,
DropHolder1 == 5 ~ 1,
DropHolder1 == 97 & DropHolder2 == 1 ~ 0,
DropHolder1 == 97 & DropHolder2 == 2 ~ 0,
DropHolder1 == 97 & DropHolder2 == 3 ~ 1,
DropHolder1 == 97 & DropHolder2 == 4 ~ 1,
DropHolder1 == 97 & DropHolder2 == 5 ~ 1,
DropHolder1 == 97 & DropHolder2 == 6 ~ 0,
DropHolder1 == 97 & DropHolder2 == 7 ~ 1,
DropHolder1 == 97 & DropHolder2 == 97 ~ 0,
DropHolder1 == 97 & is.na(DropHolder2) ~ 0,
is.na(DropHolder1) & DropHolder2 == 1 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 2 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 3 ~ 1,
is.na(DropHolder1) & DropHolder2 == 4 ~ 1,
is.na(DropHolder1) & DropHolder2 == 5 ~ 1,
is.na(DropHolder1) & DropHolder2 == 6 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 7 ~ 1,
is.na(DropHolder1) & DropHolder2 == 97 ~ NaN,
is.na(DropHolder1) & is.na(DropHolder2) ~ NaN,
TRUE ~ 0))
table(waves$Dropout)
table(waves$DropHolder1, waves$DropHolder2)
table(is.na(waves$DropHolder1), is.na(waves$DropHolder2))
table(is.na(waves$DropHolder1), waves$DropHolder2)
table(waves$DropHolder1, is.na(waves$DropHolder2))
waves <- waves %>%
mutate(DropHolder1 = replace(H1GI21, H1GI21 %in% c(6, 96, 98), NA)) %>%
mutate(DropHolder2 = replace(H2GI10, H2GI10 %in% c(8), NA)) %>%
mutate(Dropout = case_when(
DropHolder1 == 1 & DropHolder2 == 1 ~ 0,
DropHolder1 == 1 & DropHolder2 == 2 ~ 0,
DropHolder1 == 1 & DropHolder2 == 3 ~ 1,
DropHolder1 == 1 & DropHolder2 == 4 ~ 1,
DropHolder1 == 1 & DropHolder2 == 5 ~ 1,
DropHolder1 == 1 & DropHolder2 == 6 ~ 0,
DropHolder1 == 1 & DropHolder2 == 7 ~ 1,
DropHolder1 == 1 & DropHolder2 == 97 ~ 0,
DropHolder1 == 2 & is.na(DropHolder2) ~ 0,
DropHolder1 == 2 & DropHolder2 == 1 ~ 1,
DropHolder1 == 2 & DropHolder2 == 2 ~ 1,
DropHolder1 == 2 & DropHolder2 == 3 ~ 1,
DropHolder1 == 2 & DropHolder2 == 4 ~ 1,
DropHolder1 == 2 & DropHolder2 == 5 ~ 1,
DropHolder1 == 2 & DropHolder2 == 6 ~ 1,
DropHolder1 == 2 & DropHolder2 == 7 ~ 1,
DropHolder1 == 2 & DropHolder2 == 97 ~ 1,
DropHolder1 == 2 & is.na(DropHolder2) ~ 1,
DropHolder1 == 3 & DropHolder2 == 1 ~ 1,
DropHolder1 == 3 & DropHolder2 == 2 ~ 1,
DropHolder1 == 3 & DropHolder2 == 3 ~ 1,
DropHolder1 == 3 & DropHolder2 == 4 ~ 1,
DropHolder1 == 3 & DropHolder2 == 5 ~ 1,
DropHolder1 == 3 & DropHolder2 == 6 ~ 1,
DropHolder1 == 3 & DropHolder2 == 7 ~ 1,
DropHolder1 == 3 & DropHolder2 == 97 ~ 1,
DropHolder1 == 3 & is.na(DropHolder2) ~ 1,
DropHolder1 == 4 & DropHolder2 == 1 ~ 0,
DropHolder1 == 4 & DropHolder2 == 2 ~ 0,
DropHolder1 == 4 & DropHolder2 == 3 ~ 0,
DropHolder1 == 4 & DropHolder2 == 4 ~ 0,
DropHolder1 == 4 & DropHolder2 == 5 ~ 0,
DropHolder1 == 4 & DropHolder2 == 6 ~ 0,
DropHolder1 == 4 & DropHolder2 == 7 ~ 0,
DropHolder1 == 4 & DropHolder2 == 97 ~ 0,
DropHolder1 == 4 & is.na(DropHolder2) ~ 0,
DropHolder1 == 5 & DropHolder2 == 1 ~ 1,
DropHolder1 == 5 & DropHolder2 == 2 ~ 1,
DropHolder1 == 5 & DropHolder2 == 3 ~ 1,
DropHolder1 == 5 & DropHolder2 == 4 ~ 1,
DropHolder1 == 5 & DropHolder2 == 5 ~ 1,
DropHolder1 == 5 & DropHolder2 == 6 ~ 1,
DropHolder1 == 5 & DropHolder2 == 7 ~ 1,
DropHolder1 == 5 & DropHolder2 == 97 ~ 1,
DropHolder1 == 5 & is.na(DropHolder2) ~ 1,
DropHolder1 == 97 & DropHolder2 == 1 ~ 0,
DropHolder1 == 97 & DropHolder2 == 2 ~ 0,
DropHolder1 == 97 & DropHolder2 == 3 ~ 1,
DropHolder1 == 97 & DropHolder2 == 4 ~ 1,
DropHolder1 == 97 & DropHolder2 == 5 ~ 1,
DropHolder1 == 97 & DropHolder2 == 6 ~ 0,
DropHolder1 == 97 & DropHolder2 == 7 ~ 1,
DropHolder1 == 97 & DropHolder2 == 97 ~ 0,
DropHolder1 == 97 & is.na(DropHolder2) ~ 0,
is.na(DropHolder1) & DropHolder2 == 1 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 2 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 3 ~ 1,
is.na(DropHolder1) & DropHolder2 == 4 ~ 1,
is.na(DropHolder1) & DropHolder2 == 5 ~ 1,
is.na(DropHolder1) & DropHolder2 == 6 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 7 ~ 1,
is.na(DropHolder1) & DropHolder2 == 97 ~ NaN,
is.na(DropHolder1) & is.na(DropHolder2) ~ NaN,
TRUE ~ 0))
table(waves$Dropout)
waves <- waves %>%
mutate(DropHolder1 = replace(H1GI21, H1GI21 %in% c(6, 96, 98), NA)) %>%
mutate(DropHolder2 = replace(H2GI10, H2GI10 %in% c(8), NA)) %>%
mutate(Dropout = case_when(
DropHolder1 == 1 & DropHolder2 == 1 ~ 0,
DropHolder1 == 1 & DropHolder2 == 2 ~ 0,
DropHolder1 == 1 & DropHolder2 == 3 ~ 1,
DropHolder1 == 1 & DropHolder2 == 4 ~ 1,
DropHolder1 == 1 & DropHolder2 == 5 ~ 1,
DropHolder1 == 1 & DropHolder2 == 6 ~ 0,
DropHolder1 == 1 & DropHolder2 == 7 ~ 1,
DropHolder1 == 1 & DropHolder2 == 97 ~ 0,
DropHolder1 == 2 & is.na(DropHolder2) ~ 0,
DropHolder1 == 2 ~ 1,
DropHolder1 == 3 ~ 1,
DropHolder1 == 4 ~ 0,
DropHolder1 == 5 ~ 1,
DropHolder1 == 97 & DropHolder2 == 1 ~ 0,
DropHolder1 == 97 & DropHolder2 == 2 ~ 0,
DropHolder1 == 97 & DropHolder2 == 3 ~ 1,
DropHolder1 == 97 & DropHolder2 == 4 ~ 1,
DropHolder1 == 97 & DropHolder2 == 5 ~ 1,
DropHolder1 == 97 & DropHolder2 == 6 ~ 0,
DropHolder1 == 97 & DropHolder2 == 7 ~ 1,
DropHolder1 == 97 & DropHolder2 == 97 ~ 0,
DropHolder1 == 97 & is.na(DropHolder2) ~ 0,
is.na(DropHolder1) & DropHolder2 == 1 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 2 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 3 ~ 1,
is.na(DropHolder1) & DropHolder2 == 4 ~ 1,
is.na(DropHolder1) & DropHolder2 == 5 ~ 1,
is.na(DropHolder1) & DropHolder2 == 6 ~ NaN,
is.na(DropHolder1) & DropHolder2 == 7 ~ 1,
is.na(DropHolder1) & DropHolder2 == 97 ~ NaN,
is.na(DropHolder1) & is.na(DropHolder2) ~ NaN,
TRUE ~ 0))
table(waves$Dropout)
attach(waves)
Waves <- waves %>%
select(AID, PA10, PA12, S1, S6B, S2, S4, IMONTH, IDAY, IYEAR,
H1GI1Y, H1GI6B, H1GI11, H1GI14, H1GI21, H1IR12, H1FV3,
H1GI4, H1JO11, H1DS5, H1DS2, H1TO53, H1DS12, H1DS13, H1DS9,
H2GI10, H2IR12, H2FV1, H2DS10, H2DS11, H3DA31,
H3DS8, H3OD4B, BIO_SEX3, H3HR24, H3HR25, H3ID32,
H3ID30, H3ID29, H3CJ5, H3DS16, H3CJ108A, H3LM7,
H4DS8, H4CJ9I, H4DS1, H4DS19, H4CJ25M, H4DS5, H4DS6, H4DS2,
H4WP28, H4CJ20, H4ED2, H4CJ1, H4CJ6, H4CJ17, H4CJ24M, H4LM11,
PEducation, Race, Age, Geography, Gender, Hispanic, Citizenship,
Divorce, JIncarceration, AIncarceration, FirstIncarcAge, TwoParentHome,
P1Education, P2Education, SES, JIncarceMonths, AIncarceMonths, AEmployed,
MotherEmployed, FatherEmployed, Unemployment, MotherHoursWeek, FatherHoursWeek,
MotherOvertime, FatherOvertime, W1Grade, W1GradeLevel, W2Grade, W2GradeLevel,
Dropout)
attach(Waves)
Waves <- Waves %>%
rename(Black = S6B,
BirthYear = H1GI1Y)
names(Waves)
table(Dropout)
round(prop.table(table(Dropout))*100, 1)
table(Gender, Dropout)
round(prop.table(table(Gender, Dropout), margin = 1)*100, 1)
table(waves$W1GradeLevel)
table(waves$Dropout)
table(waves$W1GradeLevel, waves$Dropout)
table(waves$W2GradeLevel, waves$Dropout)
table(waves$W1GradeLevel, waves$Dropout)
table(waves$W2GradeLevel, waves$Dropout)
waves <- waves %>%
mutate(MiddleDropout = case_when(
W1GradeLevel == "Middle" & Dropout == 1 ~ 1,
TRUE ~ 0))
table(waves$MiddleDropout)
waves <- waves %>%
mutate(MiddleDropout = case_when(
W1GradeLevel == "Middle" & Dropout == 1 ~ 1,
W2GradeLevel == "Middle" & Dropout == 1 ~ 1,
TRUE ~ 0))
table(waves$MiddleDropout)
waves <- waves %>%
mutate(HighDropout = case_when(
W1GradeLevel == "High" & Dropout == 1 ~ 1,
W2GradeLevel == "High" & Dropout == 1 ~ 1,
TRUE ~ 0))
table(waves$HighDropout)
Waves <- waves %>%
select(AID, PA10, PA12, S1, S6B, S2, S4, IMONTH, IDAY, IYEAR,
H1GI1Y, H1GI6B, H1GI11, H1GI14, H1GI21, H1IR12, H1FV3,
H1GI4, H1JO11, H1DS5, H1DS2, H1TO53, H1DS12, H1DS13, H1DS9,
H2GI10, H2IR12, H2FV1, H2DS10, H2DS11, H3DA31,
H3DS8, H3OD4B, BIO_SEX3, H3HR24, H3HR25, H3ID32,
H3ID30, H3ID29, H3CJ5, H3DS16, H3CJ108A, H3LM7,
H4DS8, H4CJ9I, H4DS1, H4DS19, H4CJ25M, H4DS5, H4DS6, H4DS2,
H4WP28, H4CJ20, H4ED2, H4CJ1, H4CJ6, H4CJ17, H4CJ24M, H4LM11,
PEducation, Race, Age, Geography, Gender, Hispanic, Citizenship,
Divorce, JIncarceration, AIncarceration, FirstIncarcAge, TwoParentHome,
P1Education, P2Education, SES, JIncarceMonths, AIncarceMonths, AEmployed,
MotherEmployed, FatherEmployed, Unemployment, MotherHoursWeek, FatherHoursWeek,
MotherOvertime, FatherOvertime, W1Grade, W1GradeLevel, W2Grade, W2GradeLevel,
Dropout, MiddleDropout, HighDropout)
attach(Waves)
Waves <- Waves %>%
rename(Black = S6B,
BirthYear = H1GI1Y)
names(Waves)
table(MiddleDropout)
round(prop.table(table(MiddleDropout))*100, 1)
table(Gender, MiddleDropout)
round(prop.table(table(Gender, MiddleDropout), margin = 1)*100, 1)
# Did they dropout of high school?
table(HighDropout)
round(prop.table(table(HighDropout))*100, 1)
table(Gender, HighDropout)
round(prop.table(table(Gender, HighDropout), margin = 1)*100, 1)
chisq.test(waves$Dropout, waves$JIncarceration)
chisq.test(waves$HighDropout, waves$JIncarceration)
table(waves$Dropout, waves$JIncarceration)
table(waves$H3DA28)
waves <- waves %>%
mutate(W3Unemployment = replace(H3DA28, H3DA28 %in% c(NA, 6, 8, 9), NA))
table(waves$W3Unemployment)
attach(waves)
Waves <- waves %>%
select(AID, PA10, PA12, S1, S6B, S2, S4, IMONTH, IDAY, IYEAR,
H1GI1Y, H1GI6B, H1GI11, H1GI14, H1GI21, H1IR12, H1FV3,
H1GI4, H1JO11, H1DS5, H1DS2, H1TO53, H1DS12, H1DS13, H1DS9,
H2GI10, H2IR12, H2FV1, H2DS10, H2DS11, H3DA31,
H3DS8, H3OD4B, BIO_SEX3, H3HR24, H3HR25, H3ID32,
H3ID30, H3ID29, H3CJ5, H3DS16, H3CJ108A, H3LM7,
H4DS8, H4CJ9I, H4DS1, H4DS19, H4CJ25M, H4DS5, H4DS6, H4DS2,
H4WP28, H4CJ20, H4ED2, H4CJ1, H4CJ6, H4CJ17, H4CJ24M, H4LM11,
PEducation, Race, Age, Geography, Gender, Hispanic, Citizenship,
Divorce, JIncarceration, AIncarceration, FirstIncarcAge, TwoParentHome,
P1Education, P2Education, SES, JIncarceMonths, AIncarceMonths, AEmployed,
MotherEmployed, FatherEmployed, Unemployment, MotherHoursWeek, FatherHoursWeek,
MotherOvertime, FatherOvertime, W1Grade, W1GradeLevel, W2Grade, W2GradeLevel,
Dropout, MiddleDropout, HighDropout, W3Unemployment)
attach(Waves)
Waves <- Waves %>%
rename(Black = S6B,
BirthYear = H1GI1Y)
names(Waves)
# Are they unemployed at Wave 3?
table(W3Unemployment)
round(prop.table(table(W3Unemployment))*100, 1)
table(Gender, W3Unemployment)
round(prop.table(table(Gender, W3Unemployment), margin = 1)*100, 1)
table(waves$AEmployed)
waves <- waves %>%
mutate(AIncarceration = case_when(
is.na(H4CJ6) ~ NaN,
H4CJ6 %in% c(96, 98) ~ NaN,
H4CJ6 == 97 ~ 0,
H4CJ6 %in% seq(1,90) ~ 1))
table(waves$AIncarceration)
chisq.test(waves$AEmployed, waves$AIncarceration)
waves <- waves %>%
mutate(AIncarceration = case_when(
is.na(H4CJ6) ~ NaN,
H4CJ6 %in% c(96, 98) ~ NaN,
H4CJ6 == 97 ~ 0,
H4CJ6 %in% seq(1,90) ~ 1))
table(waves$AIncarceration)
table(is.na(waves$AIncarceration))
table(waves$S27)
waves <- waves %>%
mutate(FamilySize = replace(S27, S27 %in% c(7, 99), NA))
table(waves$FamilySize)
Waves <- waves %>%
select(AID, PA10, PA12, S1, S6B, S2, S4, IMONTH, IDAY, IYEAR,
H1GI1Y, H1GI6B, H1GI11, H1GI14, H1GI21, H1IR12, H1FV3,
H1GI4, H1JO11, H1DS5, H1DS2, H1TO53, H1DS12, H1DS13, H1DS9,
H2GI10, H2IR12, H2FV1, H2DS10, H2DS11, H3DA31,
H3DS8, H3OD4B, BIO_SEX3, H3HR24, H3HR25, H3ID32,
H3ID30, H3ID29, H3CJ5, H3DS16, H3CJ108A, H3LM7,
H4DS8, H4CJ9I, H4DS1, H4DS19, H4CJ25M, H4DS5, H4DS6, H4DS2,
H4WP28, H4CJ20, H4ED2, H4CJ1, H4CJ6, H4CJ17, H4CJ24M, H4LM11,
PEducation, Race, Age, Geography, Gender, Hispanic, Citizenship,
Divorce, JIncarceration, AIncarceration, FirstIncarcAge, TwoParentHome,
P1Education, P2Education, SES, JIncarceMonths, AIncarceMonths, AEmployed,
MotherEmployed, FatherEmployed, Unemployment, MotherHoursWeek, FatherHoursWeek,
MotherOvertime, FatherOvertime, W1Grade, W1GradeLevel, W2Grade, W2GradeLevel,
Dropout, MiddleDropout, HighDropout, FamilySize)
attach(Waves)
table(FamilySize)
round(prop.table(table(FamilySize))*100, 1)
table(Gender, FamilySize)
round(prop.table(table(Gender, FamilySize), margin = 1)*100, 1)
chisq.test(waves$FamilySize, waves$JIncarceration)
chisq.test(waves$FamilySize, waves$AIncarceration)
summary(glm(
AIncarceration ~ FamilySize,
data = Waves,
family = binomial(link = "logit")
))
AIFamSize <- glm(
AIncarceration ~ FamilySize,
data = Waves,
family = binomial(link = "logit")
)
summary(AIFamSize)
exp(coef(AIFamSize))
chisq.test(waves$FamilySize, waves$AIncarceration)
chisq.test(waves$FamilySize, waves$JIncarceration)
