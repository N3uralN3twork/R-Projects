dect <- vglm(ME2 ~ DECT, data = mammo, family = multinomial())
covariates <- c(symp, pb, hist, bse, dect)
lapply(covariates, summary)
lapply(covariates, lrtest_vglm)
library(readr)
library(stats)
library(ggplot2)
library(psych)
library(VGAM)
library(dplyr)
mammo <- read_csv("C:/Users/miqui/OneDrive/Categorical Data Analysis/Datasets/mammoexp.csv",
col_types = cols(BSE = col_factor(levels = c("0","1")),
DECT = col_factor(levels = c("1", "2", "3")),
HIST = col_factor(levels = c("0", "1")),
ME = col_factor(levels = c("0", "1", "2")),
SYMPT = col_factor(levels = c("1", "2", "3", "4"))))
mammo$ME2 <- rep(NA, nrow(mammo))
mammo$ME2[mammo$ME == 1] <- 1
mammo$ME2[mammo$ME == 2] <- 2
mammo$ME2[mammo$ME == 0] <- 3
table(mammo$HIST, mammo$ME)
names(mammo)
symp <- vglm(ME2 ~ SYMPT, data = mammo, family = multinomial())
pb   <- vglm(ME2 ~ PB, data = mammo, family = multinomial())
hist <- vglm(ME2 ~ HIST, data = mammo, family = multinomial())
bse  <- vglm(ME2 ~ BSE, data = mammo, family = multinomial())
dect <- vglm(ME2 ~ DECT, data = mammo, family = multinomial())
covariates <- c(symp, pb, hist, bse, dect)
lapply(covariates, lrtest_vglm)
#1c.)
names(mammo)
lrtest_vglm(vglm(ME2 ~ as.factor(SYMPT), data = mammo, family = multinomial()))
lapply(covariates, lrtest_vglm)
install.packages(c("lme4", "reshape2"))
install.packages(c("isoband", "lme4", "reshape2"))
pnorm(1.96)
pnorm(1.96, lower.tail = F)
qnorm(0.95)
qnorm(0.95)
qnorm(0.95, lower.tail = F)
pt(0.95)
pt(0.95, 100000)
qt(0.95)
qt(0.95, 100000)
qt(0.95, 100000, lower.tail = F)
qnorm(0.975)
install.packages(c("isoband", "lme4", "reshape2", "xfun"))
install.packages(c("isoband", "reshape2"))
install.packages(c("isoband", "reshape2"))
print("Hello")
if (a==b & c == d){
print("Hello")
}
a = 2
b = 2
c = 3
d = 3
if (a==b & c == d){
print("Hello")
}
d = 4
if (a==b & c == d){
print("Hello")
}
install.packages(c("isoband", "purrr", "reshape2"))
library(MASS)
library(stats)
library(dplyr)
library(VGAM)
library(readr)
library(stats)
t.test(Age ~ Attrition, data = ibm, var.equal = FALSE, alternative = "two.sided")
install.packages(c("broom", "dbplyr", "isoband", "pkgbuild", "purrr", "raster", "RCurl", "reshape2", "tibble", "tinytex", "withr", "xml2"))
install.packages(c("purrr", "RCurl", "tibble", "xml2"))
install.packages(c("mnormt", "modelr", "RCurl", "recipes", "rlang", "ROCR", "tibble", "VGAM", "xml2", "zoo"))
install.packages(c("mnormt", "rlang", "tibble", "VGAM", "xml2", "zoo"))
install.packages(c("mnormt", "pillar", "rlang", "zoo"))
install.packages(c("rlang", "zoo"))
install.packages(c("openxlsx", "pkgbuild", "polspline", "ps", "rlang", "tidyr", "zoo"))
install.packages("ISLR")
This chapter is about *linear regression*, a very simple, supervised learning approach.
knit_with_parameters('C:/Users/miqui/OneDrive/R Projects/Intro to Statistical Learning in R/Chapter 3 Linear Regression.Rmd')
library(ISLR)
library(MASS)
library(ISLR)
names(Boston)
lm.fit <- lm(medv~lstat, data = Boston)
summary(lm.fit)
confint(lm.fit)
predict(lm.fit, newdata = data.frame(lstat=c(5,10,15)), interval = "confidence")
predict(lm.fit, newdata = data.frame(lstat=c(5,10,15)), interval = "prediction")
summary(lm.fit)
lm.fit <- lm(medv ~ lstat + age, data = Boston)
summary(lm.fit)
lm.fit <- lm(medv ~., data=Boston)
summary(lm.fit)
summary(lm(medv~lstat*age, data=Boston))
lm.fit2 <- lm(medv ~ lstat + I(lstat^2j))
lm.fit2 <- lm(medv ~ lstat + I(lstat^2))
lm.fit2 <- lm(medv ~ lstat + I(lstat^2), data=Boston)
summary(lm.fit2)
lm.fit <- lm(medv~lstat, data=Boston)
anova(lm.fit, lm.fit2)
names(Carseats)
lm.fit <- lm(Sales ~. + Income:Advertising+Price:Age, data=Carseats)
summary(lm.fit)
contrasts(Carseats$ShelveLoc)
print("The libraries have been loaded.")
LoadLibraries <- function(){
library(ISLR)
library(MASS)
print("The libraries have been loaded.")
}
LoadLibraries()
LoadLibraries <- function(){
library(ISLR)
library(MASS)
print("The libraries have been loaded.")
}
LoadLibraries()
summary(lm(mpg~horsepower, data=Auto))
abline(plot(Auto$mpg, Auto$horsepower))
lm.fit <- lm(mpg~horsepower, data=Auto)
summary(lm.fit)
abline(lm.fit)
plot(Auto$mpg, Auto$horsepower)
plot(Auto$mpg, Auto$horsepower, main = lm.fit)
plot(Auto$mpg, Auto$horsepower, main = "Horsepower vs MPG")
plot(Auto$mpg, Auto$horsepower, main = "Horsepower vs MPG")
abline(lm.fit, col="red")
lm.auto <- lm(mpg~horsepower, data=Auto)
summary(lm.auto)
plot(Auto$mpg, Auto$horsepower, main = "Horsepower vs MPG")
abline(lm.auto, col="red")
plot(Auto$horsepower, Auto$mpg, main = "Horsepower vs MPG")
plot(Auto$horsepower, Auto$mpg, main = "Horsepower vs MPG")
abline(lm.auto, col="red")
plot(lm.auto)
install.packages(c("openxlsx", "polspline", "ps", "scales", "tidygraph", "tidyr", "tidyselect", "vctrs"))
require(lavaan)
require(semPlot)
library(foreign)
setwd("C:/Users/miqui/OneDrive/R Projects/SEM in R")
db = file.choose()
dataset = read.spss(db, to.data.frame=TRUE)
dataset$MSA97 = as.character(dataset$MSA97)
dataset$gender <- as.character(dataset$gender)
variables <- as.data.frame(names(dataset))
FullModel <-
'
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
HIGHSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + DELINQUENCY + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
ELEMSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + juvenileincarceration
+ age + twoparenthome + black + hispanic + geography97 + citizenship + gender
'
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE)
summary(fit1, standardized=TRUE, fit.measures=TRUE)
FullModel <-
'
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
HIGHSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + DELINQUENCY + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
ELEMSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + juvenileincarceration
+ age + twoparenthome + black + hispanic + geography97 + citizenship + gender + SES
'
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE)
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE, check.gradient=FALSE)
summary(fit1, standardized=TRUE, fit.measures=TRUE)
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE, check.gradient=FALSE)
FullModel <-
'
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
HIGHSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + DELINQUENCY + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
ELEMSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + juvenileincarceration
+ age + twoparenthome + black + hispanic + geography97 + citizenship + gender
'
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE, check.gradient=FALSE)
FullModel <-
'
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
HIGHSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + DELINQUENCY + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
ELEMSCHOOL ~ juvenileincarceration
+ age + twoparenthome + black + hispanic + geography97 + citizenship + gender
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE)
asdf
a
ewr''
''
FullModel <-
'
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
HIGHSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + DELINQUENCY + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
ELEMSCHOOL ~ juvenileincarceration
+ age + twoparenthome + black + hispanic + geography97 + citizenship + gender
'
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE)
FullModel <-
'
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
HIGHSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + DELINQUENCY + juvenileincarceration + CRIME
+ age + twoparenthome + black + hispanic + geography97 + SES + citizenship + gender
ELEMSCHOOL ~ SES
'
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE)
source('C:/Users/miqui/OneDrive/Categorical Data Analysis/Testing.R', echo=TRUE)
summary(fit1, standardized=TRUE, fit.measures=TRUE)
corrs = lavInspect(fit1, what="cov.all")
View(corrs)
corrs = lavInspect(fit1, what="corr.all")
corrs = lavInspect(fit1, what="cor.all")
#### Load Libraries ####
setwd("C:/Users/MatthiasQ.MATTQ/OneDrive/R Projects/SEM in R")
require(lavaan)
require(semPlot)
library(foreign)
library(tidyverse)
library(tidygraph)
library(ggraph)
db = file.choose()
dataset = read.spss(db, to.data.frame=TRUE)
warnings()
attach(dataset)
#### Preprocessing ####
dataset$MSA97 = as.character(dataset$MSA97)
dataset$gender <- as.character(dataset$gender)
table(gender) #3,393 0's and 3,342 1's
table(race)
variables <- as.data.frame(names(dataset))
FullModel <-
'
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+ age +  twoparenthome + black + hispanic  + geography97 + SES + citizenship + gender
HIGHSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + DELINQUENCY + juvenileincarceration + CRIME
+ age +  twoparenthome + black + hispanic  + geography97 + SES + citizenship + gender
ELEMSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + juvenileincarceration
+ age + twoparenthome + black + hispanic + geography97 + citizenship + gender
'
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE)
require(lavaan)
require(semPlot)
rm(list=ls())
#### Load Libraries ####
setwd("C:/Users/MatthiasQ.MATTQ/OneDrive/R Projects/SEM in R")
require(lavaan)
require(semPlot)
library(foreign)
library(tidyverse)
library(tidygraph)
library(ggraph)
db = file.choose()
dataset = read.spss(db, to.data.frame=TRUE)
warnings()
attach(dataset)
dataset$MSA97 = as.character(dataset$MSA97)
dataset$gender <- as.character(dataset$gender)
table(gender)
table(race)
variables <- as.data.frame(names(dataset))
FullModel <-
'
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+ age +  twoparenthome + black + hispanic  + geography97 + SES + citizenship + gender
HIGHSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + DELINQUENCY + juvenileincarceration + CRIME
+ age +  twoparenthome + black + hispanic  + geography97 + SES + citizenship + gender
ELEMSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + juvenileincarceration
+ age + twoparenthome + black + hispanic + geography97 + citizenship + gender
'
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE)
summary(fit1, standardized=TRUE, fit.measures=TRUE)
# Checking the correlations
corrs = lavInspect(fit1, what="cor.all")
FullModel <-
'
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+ age +  twoparenthome + black + hispanic  + geography97 + SES + citizenship
HIGHSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + DELINQUENCY + juvenileincarceration + CRIME
+ age +  twoparenthome + black + hispanic  + geography97 + SES + citizenship
ELEMSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + juvenileincarceration
+ age + twoparenthome + black + hispanic + geography97 + citizenship
'
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE, group="gender")
summary(fit1, standardized=TRUE, fit.measures=TRUE)
FullModel <-
'
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+ age +  twoparenthome + black + hispanic  + geography97 + SES + citizenship + gender
HIGHSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + DELINQUENCY + juvenileincarceration + CRIME
+ age +  twoparenthome + black + hispanic  + geography97 + SES + citizenship + gender
ELEMSCHOOL ~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + juvenileincarceration
+ age + twoparenthome + black + hispanic + geography97 + citizenship + gender
'
fit1 <- cfa(FullModel, data=dataset, std.lv=TRUE)
