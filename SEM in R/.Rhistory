+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
HIGHSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
'
fit<- cfa(HSModel, data = dataset, std.lv=TRUE)
fitted(fit)
summary(fit,standardized=TRUE, fit.measures = TRUE)
semPaths(fit, whatlabels="par","std", layout="circle",sizeMan = 5, edge.label.cex = 0.8,line=3,  label.prop = 1, curve = 0.5, intercepts = FALSE, borders = TRUE, sizeInt = 1)
MSModel <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
ELEMSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
'
fit<- cfa(MSModel, data = dataset, std.lv=TRUE)
fitted(fit)
summary(fit,standardized=TRUE, fit.measures = TRUE)
semPaths(fit, whatlabels="par","std", layout="circle",sizeMan = 5, edge.label.cex = 0.8,line=3,  label.prop = 1, curve = 0.5, intercepts = FALSE, borders = TRUE, sizeInt = 1)
summary(fit,standardized=TRUE, fit.measures = TRUE)
summary(fit,standardized=TRUE, fit.measures = TRUE)
HSModel <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
HIGHSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
'
fit<- cfa(HSModel, data = dataset, std.lv=TRUE)
fitted(HSModel)
summary(HSModel,standardized=TRUE, fit.measures = TRUE)
semPaths(HSModel, whatlabels="par","std", layout="circle",sizeMan = 5, edge.label.cex = 0.8,line=3,  label.prop = 1, curve = 0.5, intercepts = FALSE, borders = TRUE, sizeInt = 1)
HSModel <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
HIGHSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
'
fit<- cfa(HSModel, data = dataset, std.lv=TRUE)
fitted(HSModel)
View(fit)
fit@timing
fit@Model
fit <- cfa(HSModel, data = dataset, std.lv=TRUE)
summary(HSModel,standardized=TRUE, fit.measures = TRUE)
View(fit)
fit@call
fit <- cfa(Model1, data = dataset, std.lv=TRUE)
fitted(fit)
fitted(fit)
summary(fit,standardized=TRUE, fit.measures = TRUE)
names(dataset)
names(dataset)[-1]
names(dataset)[,:-1]
names(dataset)[:-1]
names(dataset)[-1]
HSModel <- '
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
HIGHSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
'
##### End Highschool Model #####
fit <- cfa(HSModel, data = dataset, std.lv=TRUE)
fitted(HSModel)
is.recursive(fit)
getElement(fit, "fit")
View(fit)
getElement(fit, "call")
Model1 <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
'
#############END MODEL
fit1 <- cfa(Model1, data = dataset, std.lv=TRUE)
fitted(fit1)
summary(fit1,standardized=TRUE, fit.measures = TRUE)
semPaths(fit1, whatlabels="par","std", layout="circle",sizeMan = 5, edge.label.cex = 0.8,line=3,  label.prop = 1, curve = 0.5, intercepts = FALSE, borders = TRUE, sizeInt = 1)
View(fit1)
fit2 <- cfa(HSModel, data = dataset, std.lv=TRUE)
fitted(HSModel)
fitted(fit2)
summary(fit2,standardized=TRUE, fit.measures = TRUE)
MSModel <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
HIGHSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
ELEMSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
'
##### End Middleschool Model #####
fit3 <- cfa(MSModel, data = dataset, std.lv=TRUE)
MSModel <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
HIGHSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
ELEMSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
'
##### End Middleschool Model #####
fit3 <- cfa(MSModel, data = dataset, std.lv=TRUE)
fitted(fit3)
summary(fit3, standardized=TRUE, fit.measures = TRUE)
MSModel <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
HIGHSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
ELEMSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
'
fit3 <- cfa(MSModel, data = dataset, std.lv=TRUE)
fitted(fit3)
summary(fit3, standardized=TRUE, fit.measures = TRUE)
semPaths(fit3, whatlabels="par","std", layout="spring",sizeMan = 5, edge.label.cex = 0.8,line=3,  label.prop = 1, curve = 0.5, intercepts = FALSE, borders = TRUE, sizeInt = 1)
semPaths(fit3, whatlabels="par","std", layout="tree",sizeMan = 5, edge.label.cex = 0.8,line=3,  label.prop = 1, curve = 0.5, intercepts = FALSE, borders = TRUE, sizeInt = 1)
summary(fit3, standardized=TRUE, fit.measures = TRUE)
variables <- names(dataset)
("SES" in variables)
"SES" in variables
variables <- list(names(dataset))
View(variables)
variables <- names(dataset)
grepl(variables, "SES", fixed = TRUE)
grepl(names(dataset), "SES", fixed = TRUE)
variables
typeof(variables)
for(i in variables){
var_i = mutate(get(i), "SES")
}
rm(i)
variables <- as.data.frame(variables)
View(variables)
grepl(variables, "SES", fixed = TRUE)
"SES" %in% variables
"SES" %like% variables
"SES" %in% variables
"SES" %in% variables
is.element("SES", variables)
any(variables=="SES")
any(variables=="citizenship")
rm(list = ls())
setwd("C:/Users/MatthiasQ.MATTQ/OneDrive/R Projects/SEM in R")
require(lavaan)
require("semPlot")
library(foreign)
library(tidyverse)
library(tidygraph)
library(ggraph)
db = file.choose()
dataset = read.spss(db, to.data.frame=TRUE)
warnings()
attach(dataset)
dataset$MSA97 = as.character(dataset$MSA97)
Model1 <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97 + SES + citizenship
'
fit1 <- cfa(Model1, data = dataset, std.lv=TRUE)
fitted(fit1)
summary(fit1,standardized=TRUE, fit.measures = TRUE)
semPaths(fit1, whatlabels="par","std", layout="circle",sizeMan = 5, edge.label.cex = 0.8,line=3,  label.prop = 1, curve = 0.5, intercepts = FALSE, borders = TRUE, sizeInt = 1)
HSModel <- '
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
HIGHSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97 + SES + citizenship
'
fit2 <- cfa(HSModel, data = dataset, std.lv=TRUE)
fitted(fit2)
summary(fit2,standardized=TRUE, fit.measures = TRUE)
semPaths(fit2, whatlabels="par","std", layout="circle",sizeMan = 5, edge.label.cex = 0.8,line=3,  label.prop = 1, curve = 0.5, intercepts = FALSE, borders = TRUE, sizeInt = 1)
MSModel <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
HIGHSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
ELEMSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97 + SES + citizenship
'
##### End Middleschool Model #####
fit3 <- cfa(MSModel, data = dataset, std.lv=TRUE)
fitted(fit3)
summary(fit3, standardized=TRUE, fit.measures = TRUE)
semPaths(fit3, whatlabels="par","std", layout="circle",sizeMan = 5, edge.label.cex = 0.8,line=3,  label.prop = 1, curve = 0.5, intercepts = FALSE, borders = TRUE, sizeInt = 1)
semPaths(fit3, whatlabels="par","std", layout="tree",sizeMan = 5, edge.label.cex = 0.8,line=3,  label.prop = 1, curve = 0.5, intercepts = FALSE, borders = TRUE, sizeInt = 1)
summary(fit3, standardized=TRUE, fit.measures = TRUE)
rm(MSModel)
rm(Model1)
rm(HSModel)
Model1 <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97 + SES + citizenship
'
#############END MODEL
fit1 <- cfa(Model1, data = dataset, std.lv=TRUE)
fitted(fit1)
summary(fit1,standardized=TRUE, fit.measures = TRUE)
summary(fit2,standardized=TRUE, fit.measures = TRUE)
summary(fit3, standardized=TRUE, fit.measures = TRUE)
MSModel <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97 + SES + citizenship
HIGHSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97 + SES + citizenship
ELEMSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97 + SES + citizenship
'
##### End Middleschool Model #####
fit3 <- cfa(MSModel, data = dataset, std.lv=TRUE)
summary(fit3, standardized=TRUE, fit.measures = TRUE)
Model1 <- '
#######Latent
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
+ SES + citizenship
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97 + SES + citizenship
'
#############END MODEL
fit1 <- cfa(Model1, data = dataset, std.lv=TRUE)
summary(fit1,standardized=TRUE, fit.measures = TRUE)
HSModel <- '
#######Latent Variables
TRAUMACRIME =~ jail
+ victim + gunshotless12 + gunshot12to18
TRAUMAPOVERTY =~  unemployment + homeless
+ poverty1997 + poverty1998 + poverty 1999 + poverty2000 + poverty2001 + poverty2002
TRAUMAFAMILY =~ death + hospitalization + divorce
DELINQUENCY =~ juveniledestroyproperty + juvenilestealless
+ juvenilestealmore + juvenileotherproperty + juvenileattack + juvenileselldrugs
CRIME =~ adultgun + adultdestroyproperty + adultstealless + adultstealmore + adultotherproperty
+ adultattack + adultselldrugs
ELEMSCHOOL  =~ TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + DELINQUENCY
+ elementmiddledropout
+ elementarysuspend + middlesuspend
+ SES + citizenship
HIGHSCHOOL  =~
+ highdropout
+ highsuspend
+ SES
+ citizenship
#######Correlations
#TRAUMACRIME ~~ TRAUMAPOVERTY
#######Regressions
adultincarceration ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL + HIGHSCHOOL + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97
HIGHSCHOOL ~  TRAUMACRIME + TRAUMAPOVERTY + TRAUMAFAMILY + ELEMSCHOOL  + juvenileincarceration + CRIME
+  age +  twoparenthome + gender +black + hispanic  + geography97 + SES + citizenship
'
fit2 <- cfa(HSModel, data = dataset, std.lv=TRUE)
