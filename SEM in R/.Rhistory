style A fill:#FFF, stroke:#333, stroke-width:4px
style B fill:#9AA, stroke:#9AA, stroke-width:2px
style B1 fill:#879, stroke:#333, stroke-width:1px
style C fill:#ADF, stroke:#333, stroke-width:2px
style E fill:#9C2, stroke:#9C2, stroke-width:2px
")
mermaid("
graph LR
A((Salinity))
A-->B(Barnacles)
B-.->|-0.10|B1{Mussels}
A-- 0.30 -->B1
C[Air Temp]
C-->B
C-.->E(Macroalgae)
E-->B1
C== 0.89 ==>B1
style A fill:#FFF, stroke:#333, stroke-width:4px
style B fill:#9AA, stroke:#9AA, stroke-width:2px
style B1 fill:#879, stroke:#333, stroke-width:1px
style C fill:#ADF, stroke:#333, stroke-width:2px
style E fill:#9C2, stroke:#9C2, stroke-width:2px
")
library(DiagrammeR)
mermaid("
graph LR
A((Salinity))
A-->B(Barnacles)
B-.->|-0.10|B1{Mussels}
A-- 0.30 -->B1
C[Air Temp]
C-->B
C-.->E(Macroalgae)
E-->B1
C== 0.89 ==>B1
style A fill:#FFF, stroke:#333, stroke-width:4px
style B fill:#9AA, stroke:#9AA, stroke-width:2px
style B1 fill:#879, stroke:#333, stroke-width:1px
style C fill:#ADF, stroke:#333, stroke-width:2px
style E fill:#9C2, stroke:#9C2, stroke-width:2px
")
mermaid("
graph BT
A((Salinity))
A-->B(Barnacles)
B-.->|-0.10|B1{Mussels}
A-- 0.30 -->B1
C[Air Temp]
C-->B
C-.->E(Macroalgae)
E-->B1
C== 0.89 ==>B1
style A fill:#FFF, stroke:#333, stroke-width:4px
style B fill:#9AA, stroke:#9AA, stroke-width:2px
style B1 fill:#879, stroke:#333, stroke-width:1px
style C fill:#ADF, stroke:#333, stroke-width:2px
style E fill:#9C2, stroke:#9C2, stroke-width:2px
")
mermaid("
graph LR
A((Salinity))
A-->B(Barnacles)
B-.->|-0.10|B1{Mussels}
A-- 0.30 -->B1
C[Air Temp]
C-->B
C-.->E(Macroalgae)
E-->B1
C== 0.89 ==>B1
style A fill:#FFF, stroke:#333, stroke-width:4px
style B fill:#9AA, stroke:#9AA, stroke-width:2px
style B1 fill:#879, stroke:#333, stroke-width:1px
style C fill:#ADF, stroke:#333, stroke-width:2px
style E fill:#9C2, stroke:#9C2, stroke-width:2px
")
mermaid("
graph LR
A((Salinity))
A-->B(Barnacles)
B-.->|-0.10|B1{Mussels}
A-- 0.30 -->B1
C[Air Temp]
C-->B
C-.->E(Macroalgae)
E-->B1
C== 0.89 ==>B1
style A fill:#FFF, stroke:#333, stroke-width:4px
style B fill:#9AA, stroke:#9AA, stroke-width:2px
style B1 fill:#879, stroke:#333, stroke-width:1px
style C fill:#ADF, stroke:#333, stroke-width:2px
style E fill:#9C2, stroke:#9C2, stroke-width:2px
")
mermaid("
graph LR
A((Salinity))
A-->B(Barnacles)
B-.->|-0.10|B1{Mussels}
A-- 0.30 -->B1
C[Air Temp]
C-->B
C-.->E(Macroalgae)
E-->B1
C== 0.89 ==>B1"}
mermaid("
graph LR
A((Salinity))
A-->B(Barnacles)
B-.->|-0.10|B1{Mussels}
A-- 0.30 -->B1
C[Air Temp]
C-->B
C-.->E(Macroalgae)
E-->B1
C== 0.89 ==>B1")
mermaid("
graph LR
A((Salinity))
A-->B<Barnacles>
B-.->|-0.10|B1{Mussels}
A-- 0.30 -->B1
C[Air Temp]
C-->B
C-.->E(Macroalgae)
E-->B1
C== 0.89 ==>B1
")
mermaid("
graph LR
A((Salinity))
A-->B(Barnacles)
B-.->|-0.10|B1{Mussels}
A-- 0.30 -->B1
C[Air Temp]
C-->B
C-.->E(Macroalgae)
E-->B1
C== 0.89 ==>B1
")
mermaid("
graph LR
A[Age]
B[Class]
A-->B")
mermaid("
graph LR
A[Age]
B((Religiosity))
C(Happiness)
A-->C
B-->C
")
mermaid("
graph LR
A[Age]
B((Religiosity))
C(Happiness)
A--C
B-->C
")
mermaid("
graph LR
A[Age]
B((Religiosity))
C(Happiness)
A->C
B-->C
")
mermaid("
graph LR
A[Age]
B((Religiosity))
C(Happiness)
A->-C
B-->C
")
mermaid("
graph LR
A[Age]
B((Religiosity))
C(Happiness)
A-->C
B-->C
")
mermaid("
graph LR
A[Age]
B((Religiosity))
C(Happiness)
A-->C
B-->C
A-->B
")
mermaid("
graph LR
A((Salinity))
A-->B(Barnacles)
B-.->|-0.10|B1{Mussels}
A-- 0.30 -->B1
C[Air Temp]
C-->B
C-.->E(Macroalgae)
E-->B1
C== 0.89 ==>B1
")
mermaid("
graph LR
A((Salinity))
A-->B(Barnacles)
B-.->|-0.10|B1{Mussels}
A-- 0.30 -->B1
C[Air Temp]
C-->B
C-.->E(Macroalgae)
E-->B1
C== 0.89 ==>B1
")
# Testing
mermaid("
graph LR
A[Age]
B((Religiosity))
C(Happiness)
A-->C
B-->C
")
mermaid("
graph LR
A[Gender]
B[Age]
C[Height]
D[Income]
E(Demographics)
F((Happiness))
D==>F
")
# Testing
mermaid("
graph LR
A[Gender]
B[Age]
C[Height]
D[Income]
E(Demographics)
F((Happiness))
A-->E
B-->E
C-->E
E==>F
D==>F
")
mermaid("
graph LR
A[Gender]
B[Age]
C[Height]
D[Income]
E(Demographics)
F((Happiness))
A-->E
B-->E
C-->E
D-->E
E==>F
D==>F
")
mermaid("
graph LR
A((EM Trouble)) -- 0.1 --> F[Adult Incarceration]
B((Trauma)) -- 0.2 --> F[Adult Incarceration]
C((HS Trouble)) -- 0.3 --> F[Adult Incarceration]
D((Delinquency)) -- 0.4 --> F[Adult Incarceration]
E((Crime)) -- 0.5 --> F[Adult Incarceration]
A -- 0.60 --> C
B -- 0.70 --> C
D -- 0.80 --> C
")
# Testing
mermaid("
graph LR
A[Gender]
B[Age]
C[Height]
D[Income]
E(Demographics)
F((Happiness))
A-->E
B-->E
C-->E
D-->E
E==>F
D==>F
")
# Testing 2
grViz("
digraph boxes_and_circles{
# A graph statement
graph [overlap = true, fontsize = 10]")
grViz("
digraph boxes_and_circles{
# A graph statement
graph [overlap = true, fontsize = 10]")
grViz("
digraph boxes_and_circles {
# a 'graph' statement
graph [overlap = true, fontsize = 10]
# several 'node' statements
node [shape = box,
fontname = Helvetica]
A; B; C; D; E; F
node [shape = circle,
fixedsize = true,
width = 0.9] // sets as circles
1; 2; 3; 4; 5; 6; 7; 8
# several 'edge' statements
A->1 B->2 B->3 B->4 C->A
1->D E->A 2->4 1->5 1->F
E->6 4->6 5->7 6->7 3->8
}
")
# Testing 2
grViz("
digraph boxes_and_circles {
# a 'graph' statement
graph [overlap = true, fontsize = 10]
# several 'node' statements
node [shape = box,
fontname = Helvetica]
A; B; C; D; E; F
node [shape = circle,
fixedsize = true,
width = 0.9] // sets as circles
1; 2; 3; 4; 5; 6; 7; 8
# several 'edge' statements
A->1 B->2 B->3 B->4 C->A
1->D E->A 2->4 1->5 1->F
E->6 4->6 5->7 6->7 3==>8
}
")
grViz("
digraph boxes_and_circles {
# a 'graph' statement
graph [overlap = true, fontsize = 10]
# several 'node' statements
node [shape = box,
fontname = Helvetica]
A; B; C; D; E; F
node [shape = circle,
fixedsize = true,
width = 0.9] // sets as circles
1; 2; 3; 4; 5; 6; 7; 8
# several 'edge' statements
A->1 B->2 B->3 B->4 C->A
1->D E->A 2->4 1->5 1->F
E->6 4->6 5->7 6->7 3=>8
}
")
grViz("
digraph dot {
graph [compound = true, nodesep = .5, ranksep = .25,
color = crimson, label='Polynomial Regression Model'
/*, rankdir='LR', style=filled, fillcolor = blue*/
]
subgraph cluster1 {
node [shape = diamond,
color = black]
xi
node [shape = circle,
style = filled,
fillcolor = grey]
ti
edge [color = black]
xi -> ti
label='N'
}
node [shape = circle]
w
node [shape = diamond,
color = black,
label = '&alpha;']
alpha
node [shape = diamond,
color = black,
label = '&sigma;&#x00B2;']
sigma
edge [color = black]
alpha -> w
w -> ti
sigma -> ti
}
",
engine = "dot")
# Testing 2
grViz("
digraph dot {
graph [compound = true, nodesep = .5, ranksep = .25,
color = crimson, label='Polynomial Regression Model'
/*, rankdir='LR', style=filled, fillcolor = blue*/
]
subgraph cluster1 {
node [shape = diamond,
color = black]
xi
node [shape = circle,
style = filled,
fillcolor = grey]
ti
edge [color = black]
xi -> ti
label='N'
}
node [shape = circle,
color = 'red']
w
node [shape = diamond,
color = black,
label = '&alpha;']
alpha
node [shape = diamond,
color = black,
label = '&sigma;&#x00B2;']
sigma
edge [color = black]
alpha -> w
w -> ti
sigma -> ti
}
",
engine = "dot")
mermaid("
graph LR
A[Gender]
B[Age]
C[Height]
D[Income]
E(Demographics)
F((Happiness))
A-->E
B-->E
C-->E
D-->E
E==>F
D==>F
")
# Testing
mermaid("
digraph LR
A[Gender]
B[Age]
C[Height]
D[Income]
E(Demographics)
F((Happiness))
A-->E
B-->E
C-->E
D-->E
E==>F
D==>F
")
install.packages(c("carData", "ggraph", "sem", "sp", "tidyr"))
install.packages(c("ggraph", "haven", "labelled", "rversions", "sem", "sp", "tidyr"))
install.packages(c("dplyr", "ggplot2", "httpuv", "pkgload", "StanHeaders"))
install.packages(c("dplyr", "haven", "pkgload"))
setwd("C:/Users/miqui/OneDrive/R Projects/SEM in R")
library(readxl)
library(dplyr)
library(lubridate)
library(leaflet)
library(ggmap)
library(stringr)
setwd("C:/Users/miqui/OneDrive/R Projects/SEM in R")
library(readxl)
library(dplyr)
library(lubridate)
library(leaflet)
library(ggmap)
library(stringr)
members <- read_excel("ADAMHSCCNeedsAssessmentData20200522.xlsx",
sheet = "Members")
members <- read_excel("ADAMHSCCNeedsAssessmentData20200522.xlsx",
sheet = "Members")
PayerSpans <- read_excel("ADAMHSCCNeedsAssessmentData20200522.xlsx",
sheet = "PayerSpans", col_types = c("numeric",
"date", "date", "text", "text", "text",
"numeric", "text"))
Services <- read_excel("ADAMHSCCNeedsAssessmentData20200522.xlsx",
sheet = "Services", col_types = c("numeric",
"text", "numeric", "text", "text",
"text", "text", "text", "text", "numeric",
"text", "numeric", "text", "date",
"numeric", "numeric", "numeric",
"numeric", "numeric", "text", "text",
"text", "text", "text"))
View(Services)
Services$ServiceDate <- as.Date(Services$ServiceDate)
# Extract the year from the service date
Services$Year <- year(Services$ServiceDate)
# Select only the data with Year == 2019
Services <- Services %>% filter(Year == 2019)
ServicesSummary <- Services %>%
select(IndividualId, Payment, PayerOfService) %>%
group_by(IndividualId) %>%
summarise(AmtPaidM = sum(Payment[PayerOfService=="MEDICAID"]),
NumServM = table(PayerOfService)[2],
AmtPaidB = sum(Payment[PayerOfService=="BOARD"]),
NumServB = table(PayerOfService)[1]) %>%
mutate(Category =
case_when(AmtPaidM >= 1 & AmtPaidB >=1 ~ "Both",
AmtPaidM == 0 & AmtPaidB >=1 ~ "Board Only",
AmtPaidM >= 1 & AmtPaidB ==0 ~ "Medicaid Only",
AmtPaidM == 0 & AmtPaidB ==0 ~ "Neither"))
View(ServicesSummary)
